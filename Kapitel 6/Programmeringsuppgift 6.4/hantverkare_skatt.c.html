<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Verdana';
	font-size: 8pt;
	color: #E0E2E4;
}
.sc0 {
}
.sc1 {
	color: #66747B;
}
.sc2 {
	color: #66747B;
}
.sc4 {
	color: #FFCD22;
}
.sc5 {
	font-weight: bold;
	color: #93C763;
}
.sc6 {
	color: #EC7600;
}
.sc9 {
	color: #A082BD;
}
.sc10 {
	color: #E8E2B7;
}
.sc11 {
}
.sc16 {
	color: #678CB1;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #000000; "><span class="sc9">#include &lt;stdio.h&gt;
</span><span class="sc1">/*
Programmeringsuppgift 6.4

Skriv en funktion som räknar ut hur mycket en hantverkare
måste begära av en kund för att själv få ut ett visst belopp x
efter att skatter är betalda.

parametrar för funktionen:
1 önskat belopp: x
2 kommunal skattesats i proent
3 LAG/MEDEL/HOG - definierar skattesats

Villkor:
Du får inte använda siffror utöver 1 - 0,01 - 100

Tips:
Beräkna först ut hur stor lönen ska vara med
lön = x/(1-0.01p) där p är summan av procent-
satserna för statlig och kommunal skatt.

Lägg sedan till egenavgifterna som beräknas
i procent av lönen. Lägg slutligen till momsen
som beräknas i procent på totalbelopp (dvs. lönen
plus egenavgifterna)
*/</span><span class="sc0">

</span><span class="sc2">//Definitioner av konstanter enl. boken:
</span><span class="sc9">#define MOMS 25
#define ARB_AVG 28.97
#define STAT_LAG 0 
#define STAT_MEDEL 20
#define STAT_HOG 25
#define LAG 1 
#define MEDEL 2
#define HOG 3
</span><span class="sc0">
</span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">rakna_pris</span><span class="sc10">(</span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">kommunskatt</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">niva</span><span class="sc10">){</span><span class="sc0">
    </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">lon</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">skatt_stat</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc2">//IF-satser som sätter den statliga skattenivån beroende på användarens inmatning i main-funktionen:
</span><span class="sc0">    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">niva</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">LAG</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc11">skatt_stat</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">STAT_LAG</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">niva</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">MEDEL</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc11">skatt_stat</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">STAT_MEDEL</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">niva</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">HOG</span><span class="sc10">)</span><span class="sc0">
        </span><span class="sc11">skatt_stat</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">STAT_HOG</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc2">//lön = x/(1-0.01p) där p är summan av procentsatserna för statlig och kommunal skatt
</span><span class="sc0">    </span><span class="sc11">lon</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">x</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc4">1.0</span><span class="sc10">-</span><span class="sc4">0.01</span><span class="sc10">*(</span><span class="sc11">skatt_stat</span><span class="sc10">+</span><span class="sc11">kommunskatt</span><span class="sc10">));</span><span class="sc0"> 
    </span><span class="sc2">//Lägg sedan till egenavgifterna som beräknas i procent av lönen:
</span><span class="sc0">    </span><span class="sc11">lon</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">lon</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ARB_AVG</span><span class="sc10">/</span><span class="sc4">100.0</span><span class="sc10">);</span><span class="sc0"> </span><span class="sc2">//Fungerar inte för mig om jag inte sätter 100.0, dock är detta emot uppgiftens villkor
</span><span class="sc0">    </span><span class="sc2">//Lägg slutligen till momsensom beräknas i procent på totalbelopp (dvs. lönen plus egenavgifterna):
</span><span class="sc0">    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">lon</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">lon</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">MOMS</span><span class="sc10">/</span><span class="sc4">100.0</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">(){</span><span class="sc0">
    </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">belopp</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">kommunskatt</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">skatteniva</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">//För val av skattenivå
</span><span class="sc0">    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Ange hur mycket du vill ha i belopp efter skatt: "</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">scanf</span><span class="sc10">(</span><span class="sc6">"%lf"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">belopp</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Ange kommunalskatt i procent: "</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">scanf</span><span class="sc10">(</span><span class="sc6">"%lf"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">kommunskatt</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Ange statlig skattenivå 1: låg, 2: medel, 3: hög: "</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">scanf</span><span class="sc10">(</span><span class="sc6">"%d"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">skatteniva</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Du måste begära %.2lf kr i pris för kunden för att få ut beloppet %.2lf efter skatt!"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">rakna_pris</span><span class="sc10">(</span><span class="sc11">belopp</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">kommunskatt</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">skatteniva</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">belopp</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span></div></body>
</html>
