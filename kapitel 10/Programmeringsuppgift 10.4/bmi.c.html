<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Verdana';
	font-size: 8pt;
	color: #E0E2E4;
}
.sc0 {
}
.sc1 {
	color: #66747B;
}
.sc2 {
	color: #66747B;
}
.sc4 {
	color: #FFCD22;
}
.sc5 {
	font-weight: bold;
	color: #93C763;
}
.sc6 {
	color: #EC7600;
}
.sc7 {
	color: #FF8409;
}
.sc9 {
	color: #A082BD;
}
.sc10 {
	color: #E8E2B7;
}
.sc11 {
}
.sc16 {
	color: #678CB1;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #293134; "><span class="sc9">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;
#include "strings_text_v1.h" </span><span class="sc2">//eget funktionsbibliotek
</span><span class="sc9">#define N 100
</span><span class="sc0">
</span><span class="sc1">/* Programmeringsuppgift 10.4, Sida 237

Man har i en textfil samlat uppgifer om ett antal personer.
För varje peron finns två rader:
    Namn och adress
    Ålder, Längd (cm), Vikt (kg)

För en medicinsk studie av överviktiga personer:
Skriv ett program som läser filen med uppgifter och
skapa en ny textfil med personer med ett BMI över
30. 

Filernas namn ska läsas in från kommandofönstret

Info: 
BMI beräknas med m/h^2   
m = vikt i kg
h = längd i meter

persondata.txt
Hephaestus Cheshire     7 Lilac Ave. Greenfield, IN 46140
175 75
Zacharie Fujita     2 Gonzales Street Medina, OH 4425631
180 96
Kentigern Kunkel    4th Ave. Chattanooga, TN 37421
159 120
Ladislas Filipovic  77 Delaware Street Manitowoc, WI 54220
201 110
Trey Aartsma        77 Tailwater Ave. Endicott, NY 13760
187 66
Metushelach Michelakis  54 S. Shore St. Middletown, CT 06457
182 87
Kurou Naggia        64 3rd Street Cherry Hill, NJ 08003
165 122
Crispinus Vives     48 West Blue Spring Street King Of Prussia, PA 19406
198 78
Haruka Janson       8734 Smith Store Ave. Toledo, OH 43612
174 66
Zaki Hayward        7124 Wellington Dr. Fort Dodge, IA 50501
160 60
Phrixos Schuchardt  564 Fieldstone Street Pewaukee, WI 53072
187 79
Yosef Causey        23 Tailwater St. Simpsonville, SC 29680
194 63
Anzo Lakatos        7 NE. Pierce Avenue Reno, NV 89523
157 69
Milada North        9497 Branch Dr. Calumet City, IL 60409
185 68
Eudocia Hampson     9209 Argyle Dr. Pittsford, NY 14534
203 132
Quintina Rowntree   800 S. Manchester Court Alliance, OH 44601s
159 54
*/</span><span class="sc0">
    
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">(){</span><span class="sc0">
    </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">fil_personer</span><span class="sc10">[</span><span class="sc11">N</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc11">fil_bmi30</span><span class="sc10">[</span><span class="sc11">N</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc11">s</span><span class="sc10">[</span><span class="sc11">N</span><span class="sc10">],</span><span class="sc0"> </span><span class="sc11">person_rad</span><span class="sc10">[</span><span class="sc11">N</span><span class="sc10">];</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">vikt</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">langd</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">bmi</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">_Bool</span><span class="sc0"> </span><span class="sc11">BMIover30</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Ange filnamn med persondata: "</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">radInput</span><span class="sc10">(</span><span class="sc11">fil_personer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">N</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Ange filnamn för utskrift av personer med högt BMI: "</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">radInput</span><span class="sc10">(</span><span class="sc11">fil_bmi30</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">N</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">FILE</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">infil</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">fopen</span><span class="sc10">(</span><span class="sc11">fil_personer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"r"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">FILE</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">utfil</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">fopen</span><span class="sc10">(</span><span class="sc11">fil_bmi30</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"w"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc5">while</span><span class="sc10">(</span><span class="sc11">textfilTillString</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">N</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">infil</span><span class="sc10">)){</span><span class="sc0">
        </span><span class="sc11">BMIover30</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc10">(!</span><span class="sc11">isdigit</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">])){</span><span class="sc0">
            </span><span class="sc2">//printf("While-loop: s[0] = är !siffra | s: %s\n",s);
</span><span class="sc0">            </span><span class="sc11">strncpy</span><span class="sc10">(</span><span class="sc11">person_rad</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">s</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">strlen</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">person_rad</span><span class="sc10">[</span><span class="sc11">strlen</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">)]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc7">'\0'</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">sscanf</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"%d%d"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">langd</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">vikt</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">bmi</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">vikt</span><span class="sc0"> </span><span class="sc10">/</span><span class="sc0"> </span><span class="sc11">pow</span><span class="sc10">(((</span><span class="sc16">double</span><span class="sc10">)</span><span class="sc11">langd</span><span class="sc10">/</span><span class="sc4">100</span><span class="sc10">),</span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"%s\nBMI: %lf\n"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">person_rad</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">bmi</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">bmi</span><span class="sc10">&gt;</span><span class="sc4">30</span><span class="sc10">){</span><span class="sc0">
                </span><span class="sc11">fprintf</span><span class="sc10">(</span><span class="sc11">utfil</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"%s\n%d %d\n"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">person_rad</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">langd</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">vikt</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">



</span></div></body>
</html>
