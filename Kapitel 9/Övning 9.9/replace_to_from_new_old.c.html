<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Verdana';
	font-size: 8pt;
	color: #E0E2E4;
}
.sc0 {
}
.sc1 {
	color: #66747B;
}
.sc2 {
	color: #66747B;
}
.sc4 {
	color: #FFCD22;
}
.sc5 {
	font-weight: bold;
	color: #93C763;
}
.sc6 {
	color: #EC7600;
}
.sc7 {
	color: #FF8409;
}
.sc9 {
	color: #A082BD;
}
.sc10 {
	color: #E8E2B7;
}
.sc11 {
}
.sc16 {
	color: #678CB1;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #000000; "><span class="sc9">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;locale.h&gt;
</span><span class="sc1">/*
Övning 9.9, Sida 211

Skriv en funktion 'replace', som har fyra parametrar, två pekare
'to' och 'from' och två enstaka tecken 'old' och 'new'.

From pekar på en text som skall kopieras till det teckenfält to
pekar på. Vid kopieringen ska alla förekomster av tecknet old
ersättas med tecknet new.
*/</span><span class="sc0">

</span><span class="sc1">/*
Funktion för att kopiera text från en sträng (from) till en annan (to)
alla instanser av chartecknet i 'old' byts ut till 'new'.
*/</span><span class="sc0">
</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">replace</span><span class="sc10">(</span><span class="sc16">char</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">from</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">to</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">old</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">new</span><span class="sc10">){</span><span class="sc0">
    </span><span class="sc2">//För att kunna hantera ÅÄÖåäö används setlocale
</span><span class="sc0">    </span><span class="sc11">setlocale</span><span class="sc10">(</span><span class="sc11">LC_ALL</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">""</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc2">//while-loop som körs tills nolltecken '\0' hittas i textsträngen from
</span><span class="sc0">    </span><span class="sc5">for</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc11">from</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc7">'\0'</span><span class="sc10">;</span><span class="sc11">i</span><span class="sc10">++){</span><span class="sc0">
        </span><span class="sc1">/*
        if-sats som triggar i fall from[i] är samma tecken som det som ska bytas ut, 'old'
        i så fall sätts to[i] till tecknet i new, på samma plats som i from-strängen.
        Om inte if-satsen triggar, dvs om bokstaven inte ska bytas ut, sätts platsen
        i to-strängen till samma tecken som den i from.
        */</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">from</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">old</span><span class="sc10">){</span><span class="sc0">
            </span><span class="sc11">to</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">new</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">to</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">from</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">];</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">(){</span><span class="sc0">
    </span><span class="sc2">//Variabler för test av funktionen replace
</span><span class="sc0">    </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">text_fran</span><span class="sc10">[</span><span class="sc4">100</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"The quick brown fox jumps over the lazy dog!"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">text_till</span><span class="sc10">[</span><span class="sc4">100</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"JAGSKABYTASUTJAGSKABYTASUTJAGSKABY!"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">bytfran</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc7">'o'</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">byttill</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc7">'å'</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc2">//Textsträngarna skrivs ut:
</span><span class="sc0">    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Text från: %s\n\n"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">text_fran</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">replace</span><span class="sc10">(</span><span class="sc11">text_fran</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">text_till</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">bytfran</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">byttill</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">printf</span><span class="sc10">(</span><span class="sc6">"Text till: %s\n"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">text_till</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span></div></body>
</html>
